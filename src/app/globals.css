@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 42 63% 94%;
    --foreground: 330 3% 19%;
    --muted: 0 0% 100%; /* Derived from surface */
    --muted-foreground: 330 3% 49%; /* Derived from foreground */
    --popover: 0 0% 100%; /* Same as surface */
    --popover-foreground: 330 3% 19%; /* Same as foreground */
    --card: 0 0% 100%; /* Same as surface */
    --card-foreground: 330 3% 19%; /* Same as foreground */
    --border: 0 0% 85%; /* Derived from surface */
    --input: 0 0% 85%; /* Derived from surface */
    --primary: 167 59% 22%;
    --primary-foreground: 0 0% 100%;
    --secondary: 0 0% 95%; /* Same as muted */
    --secondary-foreground: 330 3% 19%; /* Same as foreground */
    --accent: 52 69.2% 87.3%;
    --accent-foreground: 330 3% 19%; /* Same as foreground */
    --exciting: 320 80% 58%;
    --exciting-foreground: 0 0% 100%;
    --destructive: 8 86% 60%;
    --destructive-foreground: 0 0% 100%;
    --ring:  167 59% 22%; /* Same as primary */
    --radius: 0.5rem;
    
    /* Custom variables */
    --header: 47 60% 97%;
    --surface: 0 0% 100%;
    --highlight-warning: 46 100% 63.1%;
    --highlight-warning-foreground: 330 3% 19%;

    /* Default chart/highlight colors (can be customized) */
    --chart-1: 220 70% 50%;
    --chart-2: 160 60% 45%;
    --chart-3: 30 80% 55%;
    --chart-4: 280 65% 60%;
    --chart-5: 340 75% 55%;
    --highlight-info: 200 90% 45%;
    --highlight-success: 167 59% 22%;
    --highlight-success-foreground: 0 0% 100%;
    --highlight-error: 8 86% 60%; /* Same as destructive */
    --highlight-error-foreground: 0 0% 100%;

    /* Custom Slate Palette */
    --slate-50: 0 0% 98%;
    --slate-100: 0 0% 96.5%;
    --slate-200: 0 0% 91%;
    --slate-300: 0 0% 83.5%;
    --slate-400: 0 0% 65%;
    --slate-500: 0 0% 47%;
    --slate-600: 0 0% 34%;
    --slate-700: 0 0% 26.5%;
    --slate-800: 0 0% 17.5%;
    --slate-900: 0 0% 11%;
    --slate-950: 0 0% 5%;

    /* Coverage Grade Colors - Light Theme OLD OLD OLD */
    /* --coverage-unmet: 0 75% 60%;
    --coverage-fully-met: 120 65% 50%;
    --coverage-no-extent: 40 80% 55%;
    --coverage-grade-0: 0 75% 60%;
    --coverage-grade-1: 12 75% 60%;
    --coverage-grade-2: 24 75% 60%;
    --coverage-grade-3: 36 75% 60%;
    --coverage-grade-4: 48 75% 58%;
    --coverage-grade-5: 60 70% 55%;
    --coverage-grade-6: 75 65% 55%;
    --coverage-grade-7: 90 65% 55%;
    --coverage-grade-8: 100 65% 50%;
    --coverage-grade-9: 110 65% 50%; */

    --coverage-no-extent: 0 0% 70%;
    --coverage-unmet: 0 65% 48%;
    --coverage-grade-0: 0 65% 48%;
    --coverage-grade-1: 0 75% 56%;
    --coverage-grade-2: 0 70% 76%;
    --coverage-grade-3: 0 67% 84%;
    --coverage-grade-4: 0 71% 92%;
    --coverage-grade-5: 134 61% 88%;
    --coverage-grade-6: 134 68% 80%;
    --coverage-grade-7: 134 61% 70%;
    --coverage-grade-8: 134 61% 60%;
    --coverage-grade-9: 134 61% 51%;
    --coverage-fully-met: 140 61% 37%;

    --border-contrast: rgba(0, 0, 0, 0.1);
  }

  .dark {
    --background: 330 3% 19%; /* Inverted from light foreground */
    --foreground: 42 63% 94%; /* Inverted from light background */
    --muted: 330 3% 24%; /* Derived from dark background */
    --muted-foreground: 42 63% 84%; /* Derived from dark foreground */
    --popover: 330 3% 24%; /* Same as dark surface */
    --popover-foreground: 42 63% 94%; /* Same as dark foreground */
    --card: 330 3% 24%; /* Same as dark surface */
    --card-foreground: 42 63% 94%; /* Same as dark foreground */
    --border: 330 3% 29%; /* Derived from dark background */
    --input: 330 3% 29%; /* Derived from dark background */
    --primary: 166 75% 73%;
    --primary-foreground: 340 100% 11.4%;
    --secondary: 330 3% 24%; /* Same as dark muted */
    --secondary-foreground: 42 63% 94%; /* Same as dark foreground */
    --accent: 52 69.2% 87.3%; /* Same as light accent */
    --accent-foreground: 42 63% 94%; /* Same as dark foreground */
    --exciting: 320 75% 65%;
    --exciting-foreground: 0 0% 100%;
    --destructive: 8 86% 60%; /* Same as light destructive */
    --destructive-foreground: 0 0% 100%;
    --ring: 166 75% 30%; /* Derived from dark primary */

    /* Custom variables */
    --header: 330 3% 22%; /* Derived from dark background */
    --surface: 330 3% 24%; /* Derived from dark background */
    --highlight-warning: 46 100% 63.1%; /* Same as light warning */
    --highlight-warning-foreground: 330 3% 19%;

    /* Default chart/highlight colors (can be customized) */
    --chart-1: 217 91% 60%;
    --chart-2: 142 71% 45%;
    --chart-3: 38 92% 50%;
    --chart-4: 270 80% 65%;
    --chart-5: 348 83% 60%;
    --highlight-info: 205 90% 55%;
    --highlight-success: 167 59% 45%;
    --highlight-success-foreground: 167 60% 10%;
    --highlight-error: 8 86% 60%; /* Same as destructive */
    --highlight-error-foreground: 0 0% 100%;

    /* Custom Slate Palette */
    --slate-50: 330 3% 98%;
    --slate-100: 330 3% 96.5%;
    --slate-200: 330 3% 91%;
    --slate-300: 330 3% 83.5%;
    --slate-400: 330 3% 65%;
    --slate-500: 330 3% 47%;
    --slate-600: 330 3% 34%;
    --slate-700: 330 3% 26.5%;
    --slate-800: 330 3% 17.5%;
    --slate-900: 330 3% 11%;
    --slate-950: 330 3% 5%;

    /* Coverage Grade Colors - Dark Theme OLD OLD OLD */
    /* --coverage-unmet: 0 70% 50%;
    --coverage-fully-met: 120 60% 40%;
    --coverage-no-extent: 40 70% 50%;
    --coverage-grade-0: 0 70% 50%;
    --coverage-grade-1: 12 70% 50%;
    --coverage-grade-2: 24 70% 50%;
    --coverage-grade-3: 36 70% 50%;
    --coverage-grade-4: 48 70% 50%;
    --coverage-grade-5: 60 70% 45%;
    --coverage-grade-6: 75 60% 45%;
    --coverage-grade-7: 90 60% 45%;
    --coverage-grade-8: 100 60% 40%;
    --coverage-grade-9: 110 60% 40%; */

    --coverage-no-extent: 0 0% 70%;
    --coverage-unmet: 0 65% 52%;
    --coverage-grade-0: 0 65% 52%;
    --coverage-grade-1: 0 75% 44%;
    --coverage-grade-2: 0 70% 34%;
    --coverage-grade-3: 0 67% 26%;
    --coverage-grade-4: 0 71% 18%;
    --coverage-grade-5: 134 61% 22%;
    --coverage-grade-6: 134 68% 27%;
    --coverage-grade-7: 134 61% 35%;
    --coverage-grade-8: 134 61% 42%;
    --coverage-grade-9: 134 61% 53%;
    --coverage-fully-met: 140 61% 63%; 

    --border-contrast: rgba(255, 255, 255, 0.15);
  }
}

body {
  /* font-family: var(--font-geist-sans), system-ui, sans-serif; */
  font-family: ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji","Segoe UI Symbol","Noto Color Emoji";
}

/* Removed .site-header and .content-wrapper as they are not currently used */
/* and .site-header was using an undefined --header-bg variable. */

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
  }
}

/* Add custom class for forcing white background on inputs in light mode */
.light .blueprint-input {
  @apply bg-white;
}

.scroll-fade-bottom {
  mask-image: linear-gradient(to bottom, black 85%, transparent 100%);
  -webkit-mask-image: linear-gradient(to bottom, black 85%, transparent 100%); /* Safari compatibility */
}

/* Custom styles for uniform markdown text */
.uniform-markdown-text * {
  font-size: inherit !important; /* Inherit from parent (prose-xs) */
  font-family: inherit !important; /* Inherit from parent or body */
  line-height: inherit !important; /* Inherit for consistency */
  font-weight: normal !important; /* Normalize font weight */
  margin-top: 0.5em !important; /* Adjust spacing as needed */
  margin-bottom: 0.5em !important; /* Adjust spacing as needed */
  color: inherit !important; /* Ensure text color is consistent */
  display: inline !important;
  padding-left: 0 !important;
  padding-top: 0 !important;
  padding-right: 0 !important;
  padding-bottom: 0 !important;
  margin-left: 0 !important;
  margin-top: 0 !important;
  margin-right: 0 !important;
  margin-bottom: 0 !important;
}

.uniform-markdown-text h1,
.uniform-markdown-text h2,
.uniform-markdown-text h3,
.uniform-markdown-text h4,
.uniform-markdown-text h5,
.uniform-markdown-text h6 {
  font-weight: 600 !important; /* Keep headings slightly bolder but same size */
}

.uniform-markdown-text code {
  font-family: var(--font-mono), monospace !important; /* Keep monospace for code */
  background-color: rgba(128, 128, 128, 0.1) !important; /* Subtle background for code */
  padding: 0.1em 0.3em !important;
  border-radius: 0.2em !important;
  font-size: 0.9em !important; /* Slightly smaller code text relative to surrounding text */
}

.uniform-markdown-text pre {
  background-color: rgba(128, 128, 128, 0.05) !important; /* Subtle background for code blocks */
  border-radius: 0.3em !important;
  overflow-x: auto !important;
}

.uniform-markdown-text pre code {
  background-color: transparent !important; /* Code within pre shouldn't have its own background */
  padding: 0 !important;
  font-size: inherit !important; /* Code in pre should match pre's font size */
}

.uniform-markdown-text blockquote {
  border-left-width: 2px !important; /* Subtle blockquote border */
  padding-left: 0.75em !important;
  font-style: italic !important;
  color: inherit !important;
  opacity: 0.8 !important;
}